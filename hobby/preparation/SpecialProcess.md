# 浅谈三种特殊进程-守护进程、僵尸进程、孤儿进程

## 守护进程
* 守护进程是脱离于控制终端并且在后台周期性的执行某种任务或等待处理某些事件的进程。脱离终端是为了避免进程在执行过程中的某些信息在任何的终端显示并且也不会被某些终端产生的中断信息所终止
* 守护进程是一种孤儿进程，是由init进程接管
* 创建守护进程的一般步骤
    1. 创建子进程，退出父进程
    2. 在子进程中创建新的会话
    3. 改变当前目录为根目录-进程运行过程中目录需要被挂载
    4. 重设文件权限掩码-文件权限设置
    5. 关闭文件描述符-标准输入、标准输出、标准错误输出
    6. 守护进程退出处理-kill

## 僵尸进程
* 一个进程使用fork创建子进程，如果子进程退出而父进程并没有调用wait或者waitpid获取子进程的状态信息，那么子进程的描述符仍然保留在系统中
* 在子进程结束后，会遗留下一个称为僵尸进程的数据结构。直到父进程调用wait或waitpid才能被释放或父进程结束后由init进程接管后进行释放
* 危害：产生大量的僵尸进程可能会使系统的进程号分配完，使得无法创建新的进程

## 孤儿进程
* 一个父进程退出，一个或多个子进程还在运行，那些子进程被称为孤儿进程，将会有init进程接管
* 没有危害，在父进程结束后由init进程接管，init进程对子进程进行善后工作
